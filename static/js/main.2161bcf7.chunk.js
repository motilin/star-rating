(this["webpackJsonpstar-rating"]=this["webpackJsonpstar-rating"]||[]).push([[0],{140:function(t,n,e){},142:function(t,n,e){},149:function(t,n){},151:function(t,n){},161:function(t,n){},163:function(t,n){},190:function(t,n){},192:function(t,n){},193:function(t,n){},198:function(t,n){},200:function(t,n){},206:function(t,n){},208:function(t,n){},227:function(t,n){},239:function(t,n){},242:function(t,n){},245:function(t,n,e){"use strict";e.r(n);var r=e(6),c=e.n(r),o=e(133),a=e.n(o),u=(e(140),e(0)),i=e.n(u),s=e(3),f=e(4),l=e(39),j=e(13),b=(e(142),e(49)),d=e(5);function p(t){var n=t.starsNum,e=t.rating,r=t.setRating,c=t.style,o=t.props,a=function(t){var n=t.selected,e=void 0!==n&&n,r=t.onClick,c=void 0===r?function(t){return t}:r;return Object(d.jsx)(b.a,{color:e?"red":"grey",onClick:c})};e>n&&(e=n);for(var u=[],i=0;i<e;i++)u.push(!0);for(var s=e;s<n;s++)u.push(!1);return Object(d.jsx)("div",Object(f.a)(Object(f.a)({style:Object(f.a)({padding:"5px"},c)},o),{},{children:u.map((function(t,n){return Object(d.jsx)(a,{selected:t,onClick:function(){return r(n+1)}},n)}))}))}function O(t){var n=t.color,e=t.rating,r=t.starsNum,c=t.dropColor,o=t.setRating;return Object(d.jsxs)("div",{children:[Object(d.jsx)("button",{children:Object(d.jsx)(b.b,{className:"trash",onClick:c})}),Object(d.jsx)("div",{className:"colorBlock",style:{backgroundColor:n}}),Object(d.jsx)(p,{starsNum:r,rating:e,setRating:o}),Object(d.jsx)("p",{})]})}function g(t){var n=t.addColor,e=t.starsNum,c=Object(r.useState)("#A3A3A3"),o=Object(j.a)(c,2),a=o[0],u=o[1],i=Object(r.useState)(3),s=Object(j.a)(i,2),f=s[0],l=s[1];return Object(d.jsxs)("form",{onSubmit:function(t){t.preventDefault(),n(a,f),u("#A3A3A3"),l(3)},children:[Object(d.jsx)("input",{type:"color",className:"chooseColor",value:a,onChange:function(t){return u(t.target.value)},required:!0}),Object(d.jsx)("input",{className:"ratingBox",type:"number",min:"1",max:e,value:f,onChange:function(t){return l(t.target.value)},required:!0}),Object(d.jsx)("button",{className:"addColorButton",children:"ADD"})]})}var v=e(76),h="test";function x(){var t=new v.a({id:"test-bnbuo"});function n(){return(n=Object(s.a)(i.a.mark((function n(){var e,r,c,o;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=v.b.anonymous(),n.prev=1,n.next=4,t.logIn(e);case 4:return r=t.currentUser,c=r.mongoClient("mongodb-atlas"),o=c.db(h),n.abrupt("return",o);case 10:n.prev=10,n.t0=n.catch(1),console.log(n.t0);case 13:case"end":return n.stop()}}),n,null,[[1,10]])})))).apply(this,arguments)}return function(){return n.apply(this,arguments)}()}var m=null;function C(){document.title="star-rating";var t=Object(r.useState)([]),n=Object(j.a)(t,2),e=n[0],c=n[1],o=function(t){return function(){var n=Object(l.a)(e);n=e.filter((function(n){return n._id!==t})),c(n);try{m.deleteOne({_id:t})}catch(r){if(r)throw r}}},a=function(t){return function(n){var r=e.map((function(e){return e._id===t?Object(f.a)(Object(f.a)({},e),{},{rating:n}):e}));c(r);var o={_id:t},a={$set:{rating:n}};m.updateOne(o,a,(function(t,n){if(t)throw t;console.log(n)}))}};return Object(r.useEffect)((function(){function t(){return(t=Object(s.a)(i.a.mark((function t(){var n,e;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x();case 2:if(!(n=t.sent)){t.next=9;break}return m=n.collection("colors"),t.next=7,m.find();case 7:e=t.sent,c(e);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),Object(d.jsxs)(d.Fragment,{children:[e.map((function(t){var n=t._id;return Object(d.jsx)(O,{dropColor:o(n),setRating:a(n),color:t.color,rating:t.rating,starsNum:5},n)})),Object(d.jsx)(g,{addColor:function(t,n){function e(){return(e=Object(s.a)(i.a.mark((function e(){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.insertOne({color:t,rating:n});case 2:return e.next=4,m.find();case 4:r=e.sent,c(r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}try{!function(){e.apply(this,arguments)}()}catch(r){if(r)throw r}},starsNum:5})]})}var y=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,246)).then((function(n){var e=n.getCLS,r=n.getFID,c=n.getFCP,o=n.getLCP,a=n.getTTFB;e(t),r(t),c(t),o(t),a(t)}))};a.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(C,{})}),document.getElementById("root")),y()}},[[245,1,2]]]);
//# sourceMappingURL=main.2161bcf7.chunk.js.map