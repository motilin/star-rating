(this["webpackJsonpstar-rating"]=this["webpackJsonpstar-rating"]||[]).push([[0],{140:function(t,n,e){},141:function(t,n,e){},149:function(t,n){},151:function(t,n){},161:function(t,n){},163:function(t,n){},190:function(t,n){},192:function(t,n){},193:function(t,n){},198:function(t,n){},200:function(t,n){},206:function(t,n){},208:function(t,n){},227:function(t,n){},239:function(t,n){},242:function(t,n){},245:function(t,n,e){"use strict";e.r(n);var r=e(6),c=e.n(r),o=e(133),a=e.n(o),i=(e(140),e(141),e(49)),u=e(3),s=e(5);function l(t){var n=t.starsNum,e=t.rating,r=t.setRating,c=t.style,o=t.props,a=function(t){var n=t.selected,e=void 0!==n&&n,r=t.onClick,c=void 0===r?function(t){return t}:r;return Object(s.jsx)(i.a,{color:e?"red":"grey",onClick:c})};e>n&&(e=n);for(var l=[],f=0;f<e;f++)l.push(!0);for(var j=e;j<n;j++)l.push(!1);return Object(s.jsx)("div",Object(u.a)(Object(u.a)({style:Object(u.a)({padding:"5px"},c)},o),{},{children:l.map((function(t,n){return Object(s.jsx)(a,{selected:t,onClick:function(){return r(n+1)}},n)}))}))}function f(t){var n=t.color,e=t.rating,r=t.starsNum,c=t.dropColor,o=t.setRating;return Object(s.jsxs)("div",{children:[Object(s.jsx)("button",{children:Object(s.jsx)(i.b,{className:"trash",onClick:c})}),Object(s.jsx)("div",{className:"colorBlock",style:{backgroundColor:n}}),Object(s.jsx)(l,{starsNum:r,rating:e,setRating:o}),Object(s.jsx)("p",{})]})}var j=e(12),d=e(0),b=e.n(d),p=e(39),O=e(4),g=e(76),v="colors",h="test";function x(){var t=new g.a({id:"test-bnbuo"});function n(){return(n=Object(O.a)(b.a.mark((function n(){var e,r,c,o,a;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=g.b.anonymous(),n.prev=1,n.next=4,t.logIn(e);case 4:return r=t.currentUser,c=r.mongoClient("mongodb-atlas"),o=c.db(h),a=o.collection(v),n.abrupt("return",a);case 11:n.prev=11,n.t0=n.catch(1),console.log(n.t0);case 14:case"end":return n.stop()}}),n,null,[[1,11]])})))).apply(this,arguments)}return function(){return n.apply(this,arguments)}()}var m,C=null,y=Object(r.createContext)(),w=function(){return Object(r.useContext)(y)};function k(t){var n=t.children;console.log("ColorProvider runs");var e=Object(r.useState)([]),c=Object(j.a)(e,2),o=c[0],a=c[1];function i(){return(i=Object(O.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("loging in to MongoDB"),t.next=3,x();case 3:return m=t.sent,t.next=6,m.find();case 6:C=t.sent,a(C);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}m||C||function(){i.apply(this,arguments)}();return Object(s.jsx)(y.Provider,{value:{colors:o,addColor:function(t,n){function e(){return(e=Object(O.a)(b.a.mark((function e(){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.insertOne({color:t,rating:n});case 2:return e.next=4,m.find();case 4:r=e.sent,a(r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}try{!function(){e.apply(this,arguments)}()}catch(r){if(r)throw r}},dropColor:function(t){return function(){var n=Object(p.a)(o);n=o.filter((function(n){return n._id!==t})),a(n);try{m.deleteOne({_id:t})}catch(e){if(e)throw e}}},setRating:function(t){return function(n){var e=o.map((function(e){return e._id===t?Object(u.a)(Object(u.a)({},e),{},{rating:n}):e}));a(e);var r={_id:t},c={$set:{rating:n}};m.updateOne(r,c,(function(t,n){if(t)throw t;console.log(n)}))}}},children:n})}function N(t){var n=t.starsNum,e=function(t){var n=Object(r.useState)(t),e=Object(j.a)(n,2),c=e[0],o=e[1];return[{value:c,onChange:function(t){return o(t.target.value)}},function(){return o(t)}]},c=e("#A3A3A3"),o=Object(j.a)(c,2),a=o[0],i=o[1],l=e(3),f=Object(j.a)(l,2),d=f[0],b=f[1],p=w().addColor;return Object(s.jsxs)("form",{onSubmit:function(t){t.preventDefault(),p(a.value,d.value),i(),b()},children:[Object(s.jsx)("input",Object(u.a)(Object(u.a)({type:"color",className:"chooseColor"},a),{},{required:!0})),Object(s.jsx)("input",Object(u.a)(Object(u.a)({className:"ratingBox",type:"number",min:"1",max:n},d),{},{required:!0})),Object(s.jsx)("button",{className:"addColorButton",children:"ADD"})]})}function _(){var t=w(),n=t.colors,e=t.dropColor,r=t.setRating;return Object(s.jsxs)(s.Fragment,{children:[n.map((function(t){return Object(s.jsx)(f,{color:t.color,rating:t.rating,starsNum:5,dropColor:e(t._id),setRating:r(t._id)},t._id)})),Object(s.jsx)(N,{starsNum:5})]})}document.title="star-rating";var B=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,246)).then((function(n){var e=n.getCLS,r=n.getFID,c=n.getFCP,o=n.getLCP,a=n.getTTFB;e(t),r(t),c(t),o(t),a(t)}))};a.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(k,{children:Object(s.jsx)(_,{})})}),document.getElementById("root")),B()}},[[245,1,2]]]);
//# sourceMappingURL=main.29366f7f.chunk.js.map